[{"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\index.js":"1","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\App.js":"2","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Home.jsx":"3","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Register.jsx":"4","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Dashboard.jsx":"5","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\hooks\\useForm.js":"6","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\utils\\FormValidation.js":"7","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\routes\\Admin.jsx":"8","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\routes\\User.jsx":"9","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\tables\\MovieTable.jsx":"10","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\tables\\UserTable.jsx":"11","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\MovieEditForm.jsx":"12","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\MovieCreateForm.jsx":"13","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\UserCreateForm.jsx":"14","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\UserEditForm.jsx":"15","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\admin\\Users.jsx":"16","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\admin\\Movies.jsx":"17","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\LoginForm.jsx":"18","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Landing.jsx":"19","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\Nav.jsx":"20","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\MovieCard.jsx":"21","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Movie.jsx":"22","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\Seats.jsx":"23","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\Modal.jsx":"24","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Movies.jsx":"25","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Tickets.jsx":"26","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\tables\\TicketTable.jsx":"27","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\hooks\\useUser.js":"28"},{"size":441,"mtime":1610877482999,"results":"29","hashOfConfig":"30"},{"size":2171,"mtime":1610978421553,"results":"31","hashOfConfig":"30"},{"size":2414,"mtime":1610630266211,"results":"32","hashOfConfig":"30"},{"size":3600,"mtime":1611022764564,"results":"33","hashOfConfig":"30"},{"size":660,"mtime":1610989467467,"results":"34","hashOfConfig":"30"},{"size":1714,"mtime":1610611692531,"results":"35","hashOfConfig":"30"},{"size":2202,"mtime":1610877454105,"results":"36","hashOfConfig":"30"},{"size":827,"mtime":1610597628521,"results":"37","hashOfConfig":"30"},{"size":815,"mtime":1610615170189,"results":"38","hashOfConfig":"30"},{"size":2293,"mtime":1610879667952,"results":"39","hashOfConfig":"30"},{"size":2055,"mtime":1610941746803,"results":"40","hashOfConfig":"30"},{"size":7750,"mtime":1610988238942,"results":"41","hashOfConfig":"30"},{"size":6648,"mtime":1611023583991,"results":"42","hashOfConfig":"30"},{"size":4162,"mtime":1610976568956,"results":"43","hashOfConfig":"30"},{"size":5605,"mtime":1610977455931,"results":"44","hashOfConfig":"30"},{"size":1063,"mtime":1610941626609,"results":"45","hashOfConfig":"30"},{"size":1074,"mtime":1610880190328,"results":"46","hashOfConfig":"30"},{"size":2433,"mtime":1610611860247,"results":"47","hashOfConfig":"30"},{"size":643,"mtime":1610609506446,"results":"48","hashOfConfig":"30"},{"size":647,"mtime":1610978684080,"results":"49","hashOfConfig":"30"},{"size":351,"mtime":1610613660070,"results":"50","hashOfConfig":"30"},{"size":2770,"mtime":1610981331029,"results":"51","hashOfConfig":"30"},{"size":5233,"mtime":1610982550304,"results":"52","hashOfConfig":"30"},{"size":905,"mtime":1610642136700,"results":"53","hashOfConfig":"30"},{"size":1956,"mtime":1610943169677,"results":"54","hashOfConfig":"30"},{"size":264,"mtime":1610978508427,"results":"55","hashOfConfig":"30"},{"size":2069,"mtime":1610983523990,"results":"56","hashOfConfig":"30"},{"size":420,"mtime":1610982045137,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"306607",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"60"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"60"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"60"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"60"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"60"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\index.js",[],["122","123"],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\App.js",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Home.jsx",["124"],"import React from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Nav from \"../components/Nav\";\r\nimport MovieCard from \"../components/MovieCard\";\r\n\r\nconst Home = () => {\r\n  const { data, isLoading, error } = useQuery(\"movies\", async () => {\r\n    return await axios.get(\"/api/movies\").then((res) => res.data);\r\n  });\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n\r\n  const dateNow = moment(Date.now()).format(\"YYYY-MM-DD\");\r\n\r\n  const showing = data.filter((movie) => {\r\n    return (\r\n      moment(dateNow).isBetween(movie.release, movie.end) ||\r\n      moment(dateNow).isSame(movie.release)\r\n    );\r\n  });\r\n\r\n  const incoming = data.filter((movie) => {\r\n    return moment(dateNow).isBefore(movie.release);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Nav />\r\n\r\n      <div className=\"home\">\r\n        <div className=\"hero\">\r\n          <div className=\"hero-info\">\r\n            <div className=\"title\">\r\n              <p className=\"pre-title\">be the first one</p>\r\n              <h1>Avoid Spoilers.</h1>\r\n            </div>\r\n            <p>Reserve a ticket now to avoid spoilers on the internet xd.</p>\r\n            <button className=\"primary\">see featured movies</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"showing\">\r\n          <div className=\"title\">\r\n            <p className=\"pre-title\">showing</p>\r\n            <h3>Don’t miss this movies now</h3>\r\n          </div>\r\n          <div className=\"movies\">\r\n            {showing.map((movie, index) => (\r\n              <Link className=\"link\" to={`/movie/${movie._id}`}>\r\n                <MovieCard key={index} movie={movie} />\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"incoming\">\r\n          <div className=\"title\">\r\n            <p className=\"pre-title\">incoming</p>\r\n            <h3>Ready your money for this movies.</h3>\r\n          </div>\r\n          <div className=\"movies\">\r\n            {incoming.map((movie, index) => (\r\n              <Link className=\"link\" to={`/movie/${movie._id}`}>\r\n                <MovieCard key={index} movie={movie} />\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Register.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Dashboard.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\hooks\\useForm.js",["125"],"import { useState, useEffect } from \"react\";\r\n\r\nconst useForm = (callback, validate) => {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && isSubmitting) {\r\n      callback(values);\r\n      setIsSubmitting(false);\r\n    }\r\n  }, [errors]);\r\n\r\n  const handleSubmit = (event) => {\r\n    if (event) event.preventDefault();\r\n    setErrors(validate(values));\r\n    setIsSubmitting(true);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    delete errors[event.target.name];\r\n    setValues((values) => ({\r\n      ...values,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n\r\n    if (event.target.name === \"email\") {\r\n      if (!/\\S+@\\S+\\.\\S+/.test(event.target.value)) {\r\n        setErrors({ ...errors, email: \"Email is invalid\" });\r\n      }\r\n    }\r\n\r\n    if (event.target.name === \"contact\") {\r\n      if (!/[0-9]{11}/.test(event.target.value)) {\r\n        setErrors({ ...errors, contact: \"Contact must have 11 numbers\" });\r\n      }\r\n    }\r\n\r\n    if (event.target.name === \"password\") {\r\n      if (!/[a-zA-Z\\d]{8}/.test(event.target.value)) {\r\n        setErrors({ ...errors, password: \"Password must have 8 characters\" });\r\n      }\r\n    }\r\n\r\n    if (event.target.name === \"password1\") {\r\n      if (event.target.value !== values.password) {\r\n        setErrors({ ...errors, password1: \"Passwords do not match\" });\r\n      }\r\n    }\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    handleSubmit,\r\n    values,\r\n    setValues,\r\n    errors,\r\n    setErrors,\r\n    isSubmitting,\r\n  };\r\n};\r\n\r\nexport default useForm;\r\n","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\utils\\FormValidation.js",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\routes\\Admin.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\routes\\User.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\tables\\MovieTable.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\tables\\UserTable.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\MovieEditForm.jsx",["126"],"import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport useForm from \"../../hooks/useForm\";\r\nimport { validateMovie } from \"../../utils/FormValidation\";\r\n\r\nimport Dashboard from \"../../pages/Dashboard\";\r\n\r\nconst MovieForm = ({ match }) => {\r\n  const { id } = match.params;\r\n  const [image, setImagePreview] = useState();\r\n  const history = useHistory();\r\n\r\n  const { data, isLoading, error } = useQuery(\"info\", async () => {\r\n    return await axios.get(`/api/movies/${id}`).then((res) => res.data);\r\n  });\r\n\r\n  const {\r\n    values,\r\n    setValues,\r\n    handleChange,\r\n    handleSubmit,\r\n    errors,\r\n    setErrors,\r\n  } = useForm(submitForm, validateMovie);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setValues(data);\r\n    }\r\n  }, [data]);\r\n\r\n  if (isLoading) return <div className=\"\">Loading...</div>;\r\n\r\n  if (error) return <div className=\"\">Error Fetching data</div>;\r\n\r\n  // file handling\r\n  const fileHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = () => {\r\n      setImagePreview(reader.result);\r\n    };\r\n  };\r\n\r\n  async function submitForm(values) {\r\n    try {\r\n      const response = await axios\r\n        .put(`/api/movies/${data._id}/update`, values)\r\n        .then((res) => res.data);\r\n\r\n      if (response) history.push(\"/dashboard/movies\");\r\n    } catch (error) {\r\n      setErrors({ ...errors, message: error.response.data.message });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dashboard>\r\n      <div className=\"dashboard-title\">\r\n        <h2>Movies Page</h2>\r\n      </div>\r\n\r\n      <div className=\"dashboard-component\">\r\n        <div className=\"admin-form\">\r\n          <form onSubmit={handleSubmit} className=\"form\">\r\n            <div className=\"form-field\">\r\n              <label className=\"form-label\">Title</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                onChange={handleChange}\r\n                className=\"form-input\"\r\n                value={values.title || \"\"}\r\n              />\r\n              {errors.title && <pre>{errors.title}</pre>}\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"form-label\">Description</label>\r\n              <textarea\r\n                name=\"description\"\r\n                onChange={handleChange}\r\n                className=\"form-input\"\r\n                value={values.description || \"\"}\r\n              />\r\n              {errors.description && <pre>{errors.description}</pre>}\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Director</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"director\"\r\n                  onChange={handleChange}\r\n                  value={values.director || \"\"}\r\n                  className=\"form-input\"\r\n                />\r\n                {errors.director && <pre>{errors.director}</pre>}\r\n              </div>\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Casts</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"casts\"\r\n                  value={values.casts || \"\"}\r\n                  onChange={handleChange}\r\n                  className=\"form-input\"\r\n                />\r\n                {errors.casts && <pre>{errors.casts}</pre>}\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Price</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"price\"\r\n                  onChange={(e) => {\r\n                    setValues({ ...values, price: Number(e.target.value) });\r\n                  }}\r\n                  value={values.price || \"\"}\r\n                  className=\"form-input\"\r\n                />\r\n                {errors.price && <pre>{errors.price}</pre>}\r\n              </div>\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Category</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"category\"\r\n                  onChange={handleChange}\r\n                  className=\"form-input\"\r\n                  value={values.category || \"\"}\r\n                />\r\n                {errors.category && <pre>{errors.category}</pre>}\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Cinema</label>\r\n                <select\r\n                  name=\"cinema\"\r\n                  onChange={(e) => {\r\n                    setValues({ ...values, cinema: e.target.value });\r\n                  }}\r\n                >\r\n                  <option value={1}>1</option>\r\n                  <option value={2}>2</option>\r\n                  <option value={3}>3</option>\r\n                  <option value={4}>4</option>\r\n                </select>\r\n                {errors.cinema && <pre>{errors.cinema}</pre>}\r\n              </div>\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Movie Duration</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"movieDuration\"\r\n                  onChange={handleChange}\r\n                  className=\"form-input\"\r\n                  value={values.movieDuration || \"\"}\r\n                />\r\n                {errors.movieDuration && <pre>{errors.movieDuration}</pre>}\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Release Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"release\"\r\n                  onChange={handleChange}\r\n                  value={values.release || \"\"}\r\n                  className=\"form-input\"\r\n                />\r\n                {errors.release && <pre>{errors.release}</pre>}\r\n              </div>\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Show Duration</label>\r\n                <select\r\n                  name=\"showDuration\"\r\n                  onChange={(e) => {\r\n                    setValues({ ...values, showDuration: e.target.value });\r\n                  }}\r\n                >\r\n                  <option value={7}>1 week</option>\r\n                  <option value={14}>2 weeks</option>\r\n                  <option value={21}>3 weeks</option>\r\n                  <option value={30}>1 month</option>\r\n                </select>\r\n                {errors.showDuration && <pre>{errors.showDuration}</pre>}\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Image:</label>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"imageURL\"\r\n                  accept=\"image/*\"\r\n                  onChange={fileHandler}\r\n                />\r\n              </div>\r\n              <img src={values.imageURL || image} alt=\"cover\" height=\"200px\" />\r\n              {errors.imageURL && <pre>{errors.imageURL}</pre>}\r\n            </div>\r\n\r\n            <div className=\"form-field\">\r\n              <button className=\"primary createBtn\" type=\"submit\">\r\n                Submit\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Dashboard>\r\n  );\r\n};\r\n\r\nexport default MovieForm;\r\n","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\MovieCreateForm.jsx",["127"],"import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport useForm from \"../../hooks/useForm\";\r\nimport { validateMovie } from \"../../utils/FormValidation\";\r\n\r\nconst MovieForm = () => {\r\n  const [image, setImagePreview] = useState();\r\n  const history = useHistory();\r\n\r\n  const {\r\n    values,\r\n    setValues,\r\n    handleChange,\r\n    handleSubmit,\r\n    errors,\r\n    setErrors,\r\n    isSubmitting,\r\n  } = useForm(submitForm, validateMovie);\r\n\r\n  // file handling\r\n  const fileHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = () => {\r\n      setImagePreview(reader.result);\r\n    };\r\n  };\r\n\r\n  async function submitForm(values) {\r\n    try {\r\n      // upload photo\r\n\r\n      const imageURL = await axios\r\n        .post(\"/api/movies/upload\", { image })\r\n        .then((res) => res.data);\r\n\r\n      values.imageURL = imageURL.url;\r\n\r\n      await axios.post(\"/api/movies/create\", values).then((res) => res.data);\r\n\r\n      history.push(\"/dashboard\");\r\n    } catch (error) {\r\n      setErrors({ ...errors, message: error.response.data.message });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-form\">\r\n      <form onSubmit={handleSubmit} className=\"form\">\r\n        <div className=\"form-field\">\r\n          <label className=\"form-label\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            onChange={handleChange}\r\n            className=\"form-input\"\r\n            value={values.title || \"\"}\r\n          />\r\n          {errors.title && <pre>{errors.title}</pre>}\r\n        </div>\r\n        <div className=\"form-field\">\r\n          <label className=\"form-label\">Description</label>\r\n          <textarea\r\n            name=\"description\"\r\n            onChange={handleChange}\r\n            className=\"form-input\"\r\n            value={values.description || \"\"}\r\n          />\r\n          {errors.description && <pre>{errors.description}</pre>}\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Director</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"director\"\r\n              onChange={handleChange}\r\n              value={values.director || \"\"}\r\n              className=\"form-input\"\r\n            />\r\n            {errors.director && <pre>{errors.director}</pre>}\r\n          </div>\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Casts</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"casts\"\r\n              value={values.casts || \"\"}\r\n              onChange={handleChange}\r\n              className=\"form-input\"\r\n            />\r\n            {errors.casts && <pre>{errors.casts}</pre>}\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Price</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => {\r\n                setValues({ ...values, price: Number(e.target.value) });\r\n              }}\r\n              value={values.price || \"\"}\r\n              className=\"form-input\"\r\n            />\r\n            {errors.price && <pre>{errors.price}</pre>}\r\n          </div>\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Category</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"category\"\r\n              onChange={handleChange}\r\n              className=\"form-input\"\r\n              value={values.category || \"\"}\r\n            />\r\n            {errors.category && <pre>{errors.category}</pre>}\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Cinema</label>\r\n            <select\r\n              name=\"cinema\"\r\n              onChange={(e) => {\r\n                setValues({ ...values, cinema: Number(e.target.value) });\r\n              }}\r\n            >\r\n              <option value=\"1\">1</option>\r\n              <option value=\"2\">2</option>\r\n              <option value=\"3\">3</option>\r\n              <option value=\"4\">4</option>\r\n            </select>\r\n            {errors.cinema && <pre>{errors.cinema}</pre>}\r\n          </div>\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Movie Duration</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"movieDuration\"\r\n              onChange={handleChange}\r\n              className=\"form-input\"\r\n              value={values.movieDuration || \"\"}\r\n            />\r\n            {errors.movieDuration && <pre>{errors.movieDuration}</pre>}\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Release Date</label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"release\"\r\n              onChange={handleChange}\r\n              className=\"form-input\"\r\n            />\r\n            {errors.release && <pre>{errors.release}</pre>}\r\n          </div>\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Show Duration</label>\r\n            <select\r\n              name=\"showDuration\"\r\n              onChange={(e) => {\r\n                setValues({ ...values, showDuration: e.target.value });\r\n              }}\r\n            >\r\n              <option value={7}>1 week</option>\r\n              <option value={14}>2 weeks</option>\r\n              <option value={21}>3 weeks</option>\r\n              <option value={30}>1 month</option>\r\n            </select>\r\n            {errors.showDuration && <pre>{errors.showDuration}</pre>}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <div className=\"form-field\">\r\n            <label className=\"form-label\">Image:</label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"imageURL\"\r\n              accept=\"image/*\"\r\n              onChange={fileHandler}\r\n            />\r\n          </div>\r\n          <img src={values.imageURL || image} alt=\"cover\" height=\"200px\" />\r\n          {errors.imageURL && <pre>{errors.imageURL}</pre>}\r\n        </div>\r\n        <div className=\"form-field\">\r\n          <button\r\n            className=\"primary createBtn\"\r\n            disabled={isSubmitting}\r\n            type=\"submit\"\r\n          >\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieForm;\r\n","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\UserCreateForm.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\UserEditForm.jsx",["128"],"import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useQuery } from \"react-query\";\r\n\r\nimport useForm from \"../../hooks/useForm\";\r\nimport { validateEditUser } from \"../../utils/FormValidation\";\r\n\r\nimport Dashboard from \"../../pages/Dashboard\";\r\n\r\nconst UserCreateForm = ({ match }) => {\r\n  const { id } = match.params;\r\n  const {\r\n    values,\r\n    setValues,\r\n    errors,\r\n    setErrors,\r\n    handleChange,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  } = useForm(register, validateEditUser);\r\n  const history = useHistory();\r\n\r\n  const { data, isLoading, error } = useQuery(\"info\", async () => {\r\n    return await axios.get(`/api/users/${id}`).then((res) => res.data);\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setValues(data);\r\n    }\r\n  }, [data]);\r\n\r\n  async function register(values) {\r\n    try {\r\n      const response = await axios\r\n        .put(`/api/users/${data._id}/update`, values)\r\n        .then((res) => res.data);\r\n\r\n      if (response) history.push(\"/dashboard/users\");\r\n    } catch (error) {\r\n      setErrors(error.response.data);\r\n    }\r\n  }\r\n\r\n  if (isLoading) return <div className=\"\">Loading...</div>;\r\n\r\n  if (error) return <div className=\"\">Error Fetching data</div>;\r\n\r\n  return (\r\n    <Dashboard>\r\n      <div className=\"dashboard-title\">\r\n        <h2>Users Page</h2>\r\n      </div>\r\n\r\n      <div className=\"dashboard-component\">\r\n        <div className=\"admin-form\">\r\n          <form className=\"form\" onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Name:</label>\r\n                <input\r\n                  onChange={handleChange}\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"form-input\"\r\n                  value={values.name || \"\"}\r\n                />\r\n                {(errors.name || errors.message) && (\r\n                  <pre>{errors.name || errors.message}</pre>\r\n                )}\r\n              </div>\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Username:</label>\r\n                <input\r\n                  onChange={handleChange}\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  className=\"form-input\"\r\n                  value={values.username || \"\"}\r\n                />\r\n                {(errors.username || errors.message) && (\r\n                  <pre>{errors.username || errors.message}</pre>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Email:</label>\r\n                <input\r\n                  onChange={handleChange}\r\n                  type=\"text\"\r\n                  name=\"email\"\r\n                  className=\"form-input\"\r\n                  value={values.email || \"\"}\r\n                />\r\n                {(errors.email || errors.message) && (\r\n                  <pre>{errors.email || errors.message}</pre>\r\n                )}\r\n              </div>\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Contact:</label>\r\n                <input\r\n                  onChange={handleChange}\r\n                  type=\"text\"\r\n                  name=\"contact\"\r\n                  className=\"form-input\"\r\n                  value={values.contact || \"\"}\r\n                />\r\n                {(errors.contact || errors.message) && (\r\n                  <pre>{errors.contact || errors.message}</pre>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Password:</label>\r\n                <input\r\n                  onChange={handleChange}\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  className=\"form-input\"\r\n                  value={values.password || \"\"}\r\n                />\r\n                {(errors.password || errors.message) && (\r\n                  <pre>{errors.password || errors.message}</pre>\r\n                )}\r\n              </div>\r\n              <div className=\"form-field\">\r\n                <label className=\"form-label\">Confirm Password:</label>\r\n                <input\r\n                  onChange={handleChange}\r\n                  type=\"password\"\r\n                  name=\"password1\"\r\n                  className=\"form-input\"\r\n                />\r\n                {(errors.password1 || errors.message) && (\r\n                  <pre>{errors.password1 || errors.message}</pre>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <label className=\"form-label\">Role</label>\r\n              <select\r\n                value={values.role || \"user\"}\r\n                onChange={handleChange}\r\n                name=\"role\"\r\n              >\r\n                <option value=\"\">Role</option>\r\n                <option value=\"admin\">Admin</option>\r\n                <option value=\"user\">User</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"form-field\">\r\n              <button\r\n                disabled={isSubmitting}\r\n                className=\"primary createBtn\"\r\n                type=\"submit\"\r\n              >\r\n                Update\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Dashboard>\r\n  );\r\n};\r\n\r\nexport default UserCreateForm;\r\n","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\admin\\Users.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\admin\\Movies.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\forms\\LoginForm.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Landing.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\Nav.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\MovieCard.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Movie.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\Seats.jsx",["129","130","131"],"import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useQuery } from \"react-query\";\r\nimport decode from \"jwt-decode\";\r\nimport moment from \"moment\";\r\n\r\nimport Modal from \"./Modal\";\r\nimport useUser from \"../hooks/useUser\";\r\n\r\nconst SELECTED = {\r\n  background: \"#1f1f1f\",\r\n};\r\n\r\nconst Seats = ({ id: ID, occupied, price, name }) => {\r\n  // TODO: post ticket to user\r\n  const [seats, setSeats] = useState([]);\r\n  const [modal, setModal] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const { data: user, isLoading, error } = useUser();\r\n\r\n  const checkDisabled = (index) => {\r\n    if (occupied.find((v) => v === index)) return true;\r\n\r\n    return false;\r\n  };\r\n\r\n  const checkSelect = (index) => {\r\n    if (seats.find((v) => v === index)) return SELECTED;\r\n\r\n    return null;\r\n  };\r\n\r\n  const onSelect = (index) => {\r\n    if (seats.find((v) => v === index)) {\r\n      setSeats(seats.filter((s) => s !== index));\r\n    } else {\r\n      setSeats([...seats, index]);\r\n    }\r\n  };\r\n\r\n  const checkout = async () => {\r\n    try {\r\n      const data = await axios\r\n        .post(`/api/tickets/create/${user._id}`, {\r\n          seats,\r\n          movie: name,\r\n          date: moment(Date.now()).format(\"MM/DD/YYYY\"),\r\n          time: \"1:00PM\",\r\n        })\r\n        .then((res) => res.data);\r\n\r\n      if (data) {\r\n        const response = await axios.post(`/api/movies/${ID}/seat`, {\r\n          seats,\r\n        });\r\n        if (response) history.push(\"/home\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error.response.data);\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"seat-container\">\r\n          <div className=\"seats\">\r\n            {[...Array(15)].map((_, index) => {\r\n              return (\r\n                <div key={index}>\r\n                  <button\r\n                    onClick={() => {\r\n                      onSelect(index + 1);\r\n                    }}\r\n                    disabled={checkDisabled(index + 1)}\r\n                    className=\"seat\"\r\n                    style={checkSelect(index + 1)}\r\n                  >\r\n                    {index + 1}\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"seats\">\r\n            {[...Array(15)].map((_, index) => {\r\n              return (\r\n                <div key={index + 15}>\r\n                  <button\r\n                    onClick={() => onSelect(index + 16)}\r\n                    disabled={checkDisabled(index + 16)}\r\n                    className=\"seat\"\r\n                    style={checkSelect(index + 16)}\r\n                  >\r\n                    {index + 16}\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"container\">\r\n        <div className=\"tickets-container\">\r\n          <div className=\"title\">\r\n            <p className=\"pre-title\">Tickets</p>\r\n            <h3>Orders</h3>\r\n          </div>\r\n          {seats.map((seat, index) => (\r\n            <div className=\"tickets\" key={index}>\r\n              <div className=\"flex\">\r\n                <p className=\"strong\">Seat </p>\r\n                <h3>{seat}</h3>\r\n              </div>\r\n\r\n              <p className=\"strong\">Php {price}</p>\r\n              <button\r\n                onClick={() => {\r\n                  onSelect(seat);\r\n                }}\r\n                style={{ color: \"#db5050\" }}\r\n              >\r\n                X\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"container\">\r\n        <div className=\"button-container\">\r\n          <button className=\"primary\" onClick={() => setModal(true)}>\r\n            Checkout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <Modal isOpen={modal} isClose={() => setModal(false)}>\r\n        <div className=\"ticket-info\">\r\n          <div className=\"ticket-title\">\r\n            <div className=\"title\">\r\n              <p className=\"pre-title\">Ordered</p>\r\n              <h3>Seats</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"tickets\">\r\n            {seats.map((s, i) => {\r\n              return (\r\n                <p className=\"strong\" key={i}>\r\n                  Seat {s}\r\n                </p>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {seats.map((s, i) => {\r\n            if (i === seats.length - 1)\r\n              return (\r\n                <div className=\"ticket-title\">\r\n                  <div className=\"title\">\r\n                    <p className=\"pre-title\">Total</p>\r\n                    <h3>Price: </h3>\r\n                  </div>\r\n\r\n                  <h2 className=\"price\">{price * seats.length}</h2>\r\n                </div>\r\n              );\r\n          })}\r\n          <button\r\n            disabled={seats.length === 0 ? true : false}\r\n            className=\"primary\"\r\n            onClick={checkout}\r\n          >\r\n            Checkout\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Seats;\r\n","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\Modal.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Movies.jsx",["132"],"import React from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Nav from \"../components/Nav\";\r\nimport MovieCard from \"../components/MovieCard\";\r\n\r\nconst Home = () => {\r\n  const { data, isLoading, error } = useQuery(\"movies\", async () => {\r\n    return await axios.get(\"/api/movies\").then((res) => res.data);\r\n  });\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n\r\n  const dateNow = moment(Date.now()).format(\"YYYY-MM-DD\");\r\n\r\n  const showing = data.filter((movie) => {\r\n    return (\r\n      moment(dateNow).isBetween(movie.release, movie.end) ||\r\n      moment(dateNow).isSame(movie.release)\r\n    );\r\n  });\r\n\r\n  const incoming = data.filter((movie) => {\r\n    return moment(dateNow).isBefore(movie.release);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Nav />\r\n\r\n      <div className=\"container\">\r\n        <div className=\"showing\">\r\n          <div className=\"title\">\r\n            <p className=\"pre-title\">showing</p>\r\n            <h3>Don’t miss this movies now</h3>\r\n          </div>\r\n          <div className=\"movies\">\r\n            {showing.map((movie, index) => (\r\n              <Link className=\"link\" to={`/movie/${movie._id}`}>\r\n                <MovieCard key={index} movie={movie} />\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"incoming\">\r\n          <div className=\"title\">\r\n            <p className=\"pre-title\">incoming</p>\r\n            <h3>Ready your money for this movies.</h3>\r\n          </div>\r\n          <div className=\"movies\">\r\n            {incoming.map((movie, index) => (\r\n              <Link className=\"link\" to={`/movie/${movie._id}`}>\r\n                <MovieCard key={index} movie={movie} />\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\pages\\Tickets.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\components\\tables\\TicketTable.jsx",[],"E:\\Web Dev\\reactjs\\sitickets\\frontend\\src\\hooks\\useUser.js",[],{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","replacedBy":"136"},{"ruleId":"137","severity":1,"message":"138","line":11,"column":28,"nodeType":"139","messageId":"140","endLine":11,"endColumn":33},{"ruleId":"141","severity":1,"message":"142","line":13,"column":6,"nodeType":"143","endLine":13,"endColumn":14,"suggestions":"144"},{"ruleId":"141","severity":1,"message":"145","line":33,"column":6,"nodeType":"143","endLine":33,"endColumn":12,"suggestions":"146"},{"ruleId":"137","severity":1,"message":"147","line":2,"column":17,"nodeType":"139","messageId":"140","endLine":2,"endColumn":26},{"ruleId":"141","severity":1,"message":"145","line":32,"column":6,"nodeType":"143","endLine":32,"endColumn":12,"suggestions":"148"},{"ruleId":"137","severity":1,"message":"149","line":4,"column":10,"nodeType":"139","messageId":"140","endLine":4,"endColumn":18},{"ruleId":"137","severity":1,"message":"150","line":5,"column":8,"nodeType":"139","messageId":"140","endLine":5,"endColumn":14},{"ruleId":"151","severity":1,"message":"152","line":160,"column":29,"nodeType":"153","messageId":"154","endLine":160,"endColumn":31},{"ruleId":"137","severity":1,"message":"138","line":11,"column":28,"nodeType":"139","messageId":"140","endLine":11,"endColumn":33},"no-native-reassign",["155"],"no-negated-in-lhs",["156"],"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'callback', 'isSubmitting', and 'values'. Either include them or remove the dependency array. If 'callback' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["157"],"React Hook useEffect has a missing dependency: 'setValues'. Either include it or remove the dependency array.",["158"],"'useEffect' is defined but never used.",["159"],"'useQuery' is defined but never used.","'decode' is defined but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-global-assign","no-unsafe-negation",{"desc":"160","fix":"161"},{"desc":"162","fix":"163"},{"desc":"162","fix":"164"},"Update the dependencies array to be: [callback, errors, isSubmitting, values]",{"range":"165","text":"166"},"Update the dependencies array to be: [data, setValues]",{"range":"167","text":"168"},{"range":"169","text":"168"},[393,401],"[callback, errors, isSubmitting, values]",[858,864],"[data, setValues]",[825,831]]